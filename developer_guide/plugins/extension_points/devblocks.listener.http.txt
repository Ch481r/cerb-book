devblocks.listener.http
-----------------------

The **devblocks.listener.http** extension point allows you to setup a new assistant to help your users learn how to use your plugin.

Plugin Manifest
===============

In :doc:`plugin.xml </developer_guide/plugins/plugin.xml>`:

.. code-block:: xml
    
    <!-- Devblocks HTTP Listener -->
    <extension point="devblocks.listener.http">
        <id>example.tour</id>
        <name>Example Tour</name>
        <class>
            <file>api/App.php</file>
            <name>ExampleTour</name>
        </class>
        <params>
        </params>
    </extension>

Implementation
==============
.. code-block:: php

    <?php
    abstract class DevblocksHttpResponseListenerExtension
        extends DevblocksExtension {
            
            function run(DevblocksHttpResponse $request, Smarty $tpl) {}
    };

**run(DevblocksHttpResponse $request, Smarty $tpl)**
    This method is called automatically whenever a page request/response cycle is processed. The method is passed a ``$request`` parameter containing information about the current request, and a ``$tpl`` parameter containing the Smarty singleton. See the documentation on :php:class:`DevblocksHttpRequest </developer_guide/devblocks/devblockshttprequest>` for more information on the data and methods available for each request, and the documentation on :doc:`Smarty` for more information on the data and methods available for Smarty.

Examples
========

Core Helpdesk Tour
~~~~~~~~~~~~~~~~~~

:doc:`plugin.xml </developer_guide/plugins/plugin.xml>`:
    https://github.com/wgm/cerb5/blob/5.7.1/features/cerberusweb.core/plugin.xml#L1206
Implementation:
    https://github.com/wgm/cerb5/blob/5.7.1/features/cerberusweb.core/api/listeners.classes.php#L18